
앞에서 실습으로 다뤘던 Dollar 객체의 예시는, DDD 에서의 Value Object 다.

> 값 객체가 암시하는 것 중 하나는 2장에서와 같이 모든 연산은 새 객체 를 반환해야 한다는 것


Value Object 는, == 연산이 불가능하다. 항상 새로운 객체에 할당되는 불변 값이기 때문.


#### 역시나 이번에도 빠르게 실패하고, 일단 빠르게 초록색 확인하기.

``` java
@Test  
public void testEquality() {  
    assertThat(new Dollar(5).equals(new Dollar(5))).isTrue();  
}  
  
private class Dollar {  
    public int amount;  
  
    public Dollar(final int amount) {  
        this.amount = amount;  
    }  
  
    public Dollar times(final int multipler) {  
        return new Dollar(amount * multipler);  
    }  
  
    @Override  
    public boolean equals(final Object obj) {  
        return true;  
    }  
}
```

왜 또 이렇게까지 하는가?

> 만약 라디오 신호를 두 수신국이 감지하고 있을 때, 수신국 사이의 거리 가 알려져 있고 각 수신국이 신호의 방향을 알고 있다면, 이 정보들만으로 충분히 신호의 거리와 방위를 알 수 있다

이것을 "삼각측량" 이라고 한다.
즉, 예제가 두 개 이상 있다면, 코드를 일반화 할 수 있다.


#### 삼각 측량을 위해 테스트 깨뜨리기

```java
@Test  
public void testEquality() {  
    assertThat(new Dollar(5).equals(new Dollar(5))).isTrue();  
    assertThat(new Dollar(5).equals(new Dollar(6))).isTrue();  
}
```

엇! 둘 다 true 가 나온다. 즉 거짓음성(by Unit Test)이다.

